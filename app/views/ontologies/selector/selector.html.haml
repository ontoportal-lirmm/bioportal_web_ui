= render_in_modal do
    = form_tag('/ontologies_selector/results', method: :get, novalidate: true, data: {turbo_frame: 'selector_results_frame'}) do
        .d-flex.align-items-center.justify-content-center{'data-controller': 'ontologies-selector'}
            .ontologies-selector-container
                .ontologies-selector-input
                    %input{type: 'text', placeholder: 'Filter ontologies ...', name: 'input', 'data-action': 'input->ontologies-selector#input'}
                    = inline_svg_tag 'icons/search.svg'
                .ontologies-selector-options
                    .switch-filters 
                        .show-ontology-views
                            .text
                                Show ontology views
                            = render SwitchInputComponent.new(id: 'show-ontology-views', name: 'show-ontology-views')
                        .show-retired-ontologies
                            .text
                                Show retired ontologies
                            = render SwitchInputComponent.new(id: 'show-retired-ontologies', name: 'show-retired-ontologies')
                    - formats = @formats.drop(1)
                    = render TabsContainerComponent.new do |c|         
                        = c.item(title: 'Format', selected: true)
                        = c.item_content do
                            .chips
                                - formats.each do |item|
                                    = render ChipsComponent.new(label: item, name: item)

                        = c.item(title: 'Categories')
                        = c.item_content do
                            .chips
                                - @filters[:categories][0].each do |item|
                                    = render ChipsComponent.new(label: item.acronym, name: item.acronym, tooltip: item.name)

                        = c.item(title: 'Groups')
                        = c.item_content do
                            .chips
                                - @filters[:groups][0].each do |item|
                                    = render ChipsComponent.new(label: item.acronym, name: item.acronym, tooltip: item.name)
                        
                        = c.item(title: 'Natural languages')
                        = c.item_content do
                            .chips
                                - @filters[:naturalLanguage][0].each do |item|
                                    = render ChipsComponent.new(label: item["acronym"], name: item["acronym"])
                        
                        = c.item(title: 'Formality levels')
                        = c.item_content do
                            .chips
                                - @filters[:hasFormalityLevel][0].each do |item|
                                    = render ChipsComponent.new(label: item["name"], name: item["value"])
                        
                        = c.item(title: 'Ontology types')
                        = c.item_content do
                            .chips
                                - @filters[:isOfType][0].each do |item|
                                    = render ChipsComponent.new(label: item["name"], name: item["value"])
                %input.d-none{type: 'submit', 'data-ontologies-selector-target': 'submit'}
                = turbo_frame_tag 'selector_results_frame', src: '/ontologies_selector/results'

                    
                
                
                


                        
                        
                        
                        
                        

                    