<%custom_ontologies ||= nil%>
<%selected ||= ""%>
<%selected = selected.split("/").last if selected.start_with?("http")%>
<%init_ontology_picker(custom_ontologies, [selected])%>
<%placeholder ||= "Select an Ontology"%>
<%picker_id ||= "ontology_picker_single"%>
<%selected ||= nil%>
<%field_name ||= "ontologyId"%>
<%object_name ||= :ontology%>
<%disabled ||= nil%>

<script type="text/javascript">
  jQuery(document).ready(function() {
    jQuery("#<%= picker_id %>").chosen({ search_contains: true });

    jQuery("#ontology_isView").change(function() {
      if (this.checked) {
        jQuery("#ontology_viewOf").prop("disabled", false).trigger("chosen:updated");
      } else {
        jQuery("#ontology_viewOf").val('').trigger("chosen:updated");
        jQuery("#ontology_viewOf").prop("disabled", true).trigger("chosen:updated");
      }
    });
  });
</script>

<div id="<%=picker_id%>_container" class="ontology_picker_single_container">
  <%= render Input::SelectComponent.new(label: placeholder, name: "#{object_name}[#{field_name}]", value: @onts_for_select, selected: selected) %>
</div>

